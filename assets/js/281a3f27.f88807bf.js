"use strict";(self.webpackChunkmonolith_docs=self.webpackChunkmonolith_docs||[]).push([[457],{7932:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>p,contentTitle:()=>f,default:()=>v,frontMatter:()=>h,metadata:()=>r,toc:()=>m});const r=JSON.parse('{"id":"rust/rust-basic","title":"Rust integration","description":"Rust Examples","source":"@site/docs/rust/rust-basic.md","sourceDirName":"rust","slug":"/rust/rust-basic","permalink":"/docs/rust/rust-basic","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/rust/rust-basic.md","tags":[],"version":"current","frontMatter":{"title":"Rust integration"},"sidebar":"tutorialSidebar","previous":{"title":"Rust","permalink":"/docs/category/rust"}}');var i=n(4848),a=n(8453),o=n(6540),s=n(6069),l=n.n(s),c=n(1765);const u={editorContainer:"editorContainer_yzmg",editorHeader:"editorHeader_iYd9",fileName:"fileName_WI65",editorBody:"editorBody_WkRc",codeEditor:"codeEditor_vSAr",editorFooter:"editorFooter_aj9_",runButton:"runButton_U1N7",outputPanel:"outputPanel_LaC9",error:"error_bQjo",outputContent:"outputContent_JCwt"},d=e=>{let{sandbox:t="rust",files:n={},initialCode:r=""}=e;const[a,s]=(0,o.useState)(n["main.rs"]||r||'fn main() {\n    println!("Hello, World!");\n}'),[d,h]=(0,o.useState)(""),[f,p]=(0,o.useState)(!1),[m,g]=(0,o.useState)(null),[v,y]=(0,o.useState)(null);return(0,i.jsxs)("div",{className:u.editorContainer,children:[(0,i.jsx)("style",{children:"\n  .token.comment { color: #6a9955; }\n  .token.keyword { color: #569cd6; }\n  .token.string { color: #ce9178; }\n  .token.function { color: #dcdcaa; }\n  .token.operator { color: #d4d4d4; }\n  .token.punctuation { opacity: 0.7; }\n"}),(0,i.jsx)("div",{className:u.editorHeader,children:(0,i.jsx)("span",{className:u.fileName,children:"main.rs"})}),(0,i.jsx)("div",{className:u.editorBody,children:(0,i.jsx)(l(),{value:a,onValueChange:s,highlight:e=>c.My.highlight(e,c.My.languages.rust).split("\n").map(((e,t)=>`<span class='editorLineNumber'>${t+1}</span>${e}`)).join("\n"),padding:10,className:u.codeEditor,style:{fontFamily:'"Fira code", "Fira Mono", monospace',fontSize:14,outline:0,lineHeight:1.5}})}),(0,i.jsx)("div",{className:u.editorFooter,children:(0,i.jsx)("button",{onClick:async()=>{p(!0),g(null),h(""),y(null);try{const e=await fetch("http://codapi.skydom.ai/v1/exec",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sandbox:t,command:"run",files:{"main.rs":a}})}),n=await e.json();if(n.ok){const e=n.stdout.trim();h(n.stdout),e.startsWith("data:image/png;base64,")&&y(e)}else g(n.stderr||"Execution failed")}catch(e){g(e.message)}finally{p(!1)}},disabled:f,className:u.runButton,children:f?"\u27f3 Running...":"\u25b6 Run"})}),(d||m||v)&&(0,i.jsxs)("div",{className:u.outputPanel,children:[(0,i.jsx)("div",{className:u.outputHeader,children:"Output"}),(0,i.jsx)("div",{className:`${u.outputContent} ${m?u.error:""}`,children:m||d}),v&&(0,i.jsx)("div",{className:u.imagePreview,children:(0,i.jsx)("img",{src:v,alt:"Generated"})})]})]})},h={title:"Rust integration"},f=void 0,p={},m=[{value:"Rust Examples",id:"rust-examples",level:2},{value:"CodAPI",id:"codapi",level:2},{value:"Your First Rust Program",id:"your-first-rust-program",level:3},{value:"Working with Variables",id:"working-with-variables",level:3},{value:"Functions in Rust",id:"functions-in-rust",level:3},{value:"Error Handling Example",id:"error-handling-example",level:3},{value:"Generate Image",id:"generate-image",level:3},{value:"Image Generation Example",id:"image-generation-example",level:2}];function g(e){const t={code:"code",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",...(0,a.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t.h2,{id:"rust-examples",children:"Rust Examples"}),"\n",(0,i.jsx)(t.h2,{id:"codapi",children:"CodAPI"}),"\n","\n",(0,i.jsx)(t.p,{children:"Welcome to our interactive Rust tutorial! This page demonstrates how to use Rust with live code examples."}),"\n",(0,i.jsx)(t.h3,{id:"your-first-rust-program",children:"Your First Rust Program"}),"\n",(0,i.jsx)(t.p,{children:'Let\'s start with a simple "Hello, World!" program:'}),"\n",(0,i.jsx)(d,{sandbox:"rust",files:{"main.rs":'fn main() {\n  println!("Hello, World!");\n}'}}),"\n",(0,i.jsx)(t.p,{children:"The program above demonstrates the basic structure of a Rust program. Let's break down what each part does:"}),"\n",(0,i.jsxs)(t.ol,{children:["\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.code,{children:"fn main()"})," - This declares the main function, the entry point of our program"]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.code,{children:"println!"})," - This is a macro that prints text to the console"]}),"\n"]}),"\n",(0,i.jsx)(t.h3,{id:"working-with-variables",children:"Working with Variables"}),"\n",(0,i.jsx)(t.p,{children:"Here's an example showing how to work with variables in Rust:"}),"\n",(0,i.jsx)(d,{sandbox:"rust",files:{"main.rs":'fn main() {\n  let x = 5;\n  let y = 10;\n  println!("x = {}, y = {}", x, y);\n  println!("sum = {}", x + y);\n}'}}),"\n",(0,i.jsx)(t.h3,{id:"functions-in-rust",children:"Functions in Rust"}),"\n",(0,i.jsx)(t.p,{children:"Let's explore how functions work in Rust:"}),"\n",(0,i.jsx)(d,{sandbox:"rust",files:{"main.rs":'fn add(a: i32, b: i32) -> i32 {\n  a + b  // Note: no semicolon means this is a return expression\n}\n\nfn main() {\n  let result = add(5, 3);\n  println!("5 + 3 = {}", result);\n}'}}),"\n",(0,i.jsx)(t.h3,{id:"error-handling-example",children:"Error Handling Example"}),"\n",(0,i.jsx)(t.p,{children:"Here's how to handle potential errors in Rust:"}),"\n",(0,i.jsx)(d,{sandbox:"rust",files:{"main.rs":'fn divide(a: f64, b: f64) -> Result<f64, String> {\n  if b == 0.0 {\n      Err(String::from("Division by zero!"))\n  } else {\n      Ok(a / b)\n  }\n}\n\nfn main() {\n  match divide(10.0, 2.0) {\n      Ok(result) => println!("10 / 2 = {}", result),\n      Err(e) => println!("Error: {}", e),\n  }\n\n  match divide(10.0, 0.0) {\n      Ok(result) => println!("10 / 0 = {}", result),\n      Err(e) => println!("Error: {}", e),\n  }\n}'}}),"\n",(0,i.jsx)(t.h3,{id:"generate-image",children:"Generate Image"}),"\n",(0,i.jsx)(t.h2,{id:"image-generation-example",children:"Image Generation Example"}),"\n",(0,i.jsx)(t.p,{children:"Here's an example of generating a gradient image using Rust:"}),"\n",(0,i.jsx)(d,{sandbox:"rust",files:{"main.rs":'\nuse image::{ImageBuffer, Rgb};\nuse base64::Engine;  // Add this import\n\nfn main() {\n  // Create a 256x256 image with a simple gradient\n  let width = 256u32;\n  let height = 256u32;\n  let mut img = ImageBuffer::new(width, height);\n\n  // Fill with a purple to orange gradient\n  for (x, y, pixel) in img.enumerate_pixels_mut() {\n      let r = (x as f32 / width as f32 * 255.0) as u8;\n      let b = (y as f32 / height as f32 * 255.0) as u8;\n      *pixel = Rgb([r, 0, b]);\n  }\n\n  // Convert to PNG using a buffer\n  let mut png_data: Vec<u8> = Vec::new();\n  {\n      let mut cursor = std::io::Cursor::new(&mut png_data);\n      img.write_to(&mut cursor, image::ImageFormat::Png)\n          .expect("Failed to encode image");\n  }\n\n  // Encode to base64\n  let base64 = base64::engine::general_purpose::STANDARD.encode(&png_data);\n  println!("data:image/png;base64,{}", base64);\n\n}'}}),"\n",(0,i.jsx)(t.p,{children:"Each example above is interactive - you can modify the code and run it directly in your browser!"})]})}function v(e={}){const{wrapper:t}={...(0,a.R)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(g,{...e})}):g(e)}},6069:function(e,t,n){var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)},i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t},s=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};Object.defineProperty(t,"__esModule",{value:!0});var l=o(n(6540)),c="undefined"!=typeof window&&"navigator"in window&&/Win/i.test(navigator.platform),u="undefined"!=typeof window&&"navigator"in window&&/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform),d="npm__react-simple-code-editor__textarea",h="\n/**\n * Reset the text fill color so that placeholder is visible\n */\n.".concat(d,":empty {\n  -webkit-text-fill-color: inherit !important;\n}\n\n/**\n * Hack to apply on some CSS on IE10 and IE11\n */\n@media all and (-ms-high-contrast: none), (-ms-high-contrast: active) {\n  /**\n    * IE doesn't support '-webkit-text-fill-color'\n    * So we use 'color: transparent' to make the text transparent on IE\n    * Unlike other browsers, it doesn't affect caret color in IE\n    */\n  .").concat(d," {\n    color: transparent !important;\n  }\n\n  .").concat(d,"::selection {\n    background-color: #accef7 !important;\n    color: transparent !important;\n  }\n}\n"),f=l.forwardRef((function(e,t){var n=e.autoFocus,i=e.disabled,a=e.form,o=e.highlight,f=e.ignoreTabKey,m=void 0!==f&&f,g=e.insertSpaces,v=void 0===g||g,y=e.maxLength,b=e.minLength,x=e.name,k=e.onBlur,w=e.onClick,j=e.onFocus,C=e.onKeyDown,S=e.onKeyUp,E=e.onValueChange,_=e.padding,R=void 0===_?0:_,O=e.placeholder,N=e.preClassName,P=e.readOnly,K=e.required,F=e.style,I=e.tabSize,T=void 0===I?2:I,H=e.textareaClassName,W=e.textareaId,D=e.value,M=s(e,["autoFocus","disabled","form","highlight","ignoreTabKey","insertSpaces","maxLength","minLength","name","onBlur","onClick","onFocus","onKeyDown","onKeyUp","onValueChange","padding","placeholder","preClassName","readOnly","required","style","tabSize","textareaClassName","textareaId","value"]),B=l.useRef({stack:[],offset:-1}),L=l.useRef(null),z=l.useState(!0),V=z[0],A=z[1],G={paddingTop:"object"==typeof R?R.top:R,paddingRight:"object"==typeof R?R.right:R,paddingBottom:"object"==typeof R?R.bottom:R,paddingLeft:"object"==typeof R?R.left:R},U=o(D),$=function(e,t){return e.substring(0,t).split("\n")},q=l.useCallback((function(e,t){var n,i,a;void 0===t&&(t=!1);var o=B.current,s=o.stack,l=o.offset;if(s.length&&l>-1){B.current.stack=s.slice(0,l+1);var c=B.current.stack.length;if(c>100){var u=c-100;B.current.stack=s.slice(u,c),B.current.offset=Math.max(B.current.offset-u,0)}}var d=Date.now();if(t){var h=B.current.stack[B.current.offset];if(h&&d-h.timestamp<3e3){var f=/[^a-z0-9]([a-z0-9]+)$/i,p=null===(n=$(h.value,h.selectionStart).pop())||void 0===n?void 0:n.match(f),m=null===(i=$(e.value,e.selectionStart).pop())||void 0===i?void 0:i.match(f);if((null==p?void 0:p[1])&&(null===(a=null==m?void 0:m[1])||void 0===a?void 0:a.startsWith(p[1])))return void(B.current.stack[B.current.offset]=r(r({},e),{timestamp:d}))}}B.current.stack.push(r(r({},e),{timestamp:d})),B.current.offset++}),[]),J=l.useCallback((function(){var e=L.current;if(e){var t=e.value,n=e.selectionStart,r=e.selectionEnd;q({value:t,selectionStart:n,selectionEnd:r})}}),[q]),Y=function(e){var t=L.current;t&&(t.value=e.value,t.selectionStart=e.selectionStart,t.selectionEnd=e.selectionEnd,null==E||E(e.value))},Q=function(e){var t=L.current,n=B.current.stack[B.current.offset];n&&t&&(B.current.stack[B.current.offset]=r(r({},n),{selectionStart:t.selectionStart,selectionEnd:t.selectionEnd})),q(e),Y(e)};return l.useEffect((function(){J()}),[J]),l.useImperativeHandle(t,(function(){return{get session(){return{history:B.current}},set session(e){B.current=e.history}}}),[]),l.createElement("div",r({},M,{style:r(r({},p.container),F)}),l.createElement("pre",r({className:N,"aria-hidden":"true",style:r(r(r({},p.editor),p.highlight),G)},"string"==typeof U?{dangerouslySetInnerHTML:{__html:U+"<br />"}}:{children:U})),l.createElement("textarea",{ref:function(e){return L.current=e},style:r(r(r({},p.editor),p.textarea),G),className:d+(H?" ".concat(H):""),id:W,value:D,onChange:function(e){var t=e.currentTarget,n=t.value,r=t.selectionStart,i=t.selectionEnd;q({value:n,selectionStart:r,selectionEnd:i},!0),E(n)},onKeyDown:function(e){if(!C||(C(e),!e.defaultPrevented)){"Escape"===e.key&&e.currentTarget.blur();var t=e.currentTarget,n=t.value,r=t.selectionStart,i=t.selectionEnd,a=(v?" ":"\t").repeat(T);if("Tab"===e.key&&!m&&V)if(e.preventDefault(),e.shiftKey){var o=(h=$(n,r)).length-1,s=$(n,i).length-1,l=n.split("\n").map((function(e,t){return t>=o&&t<=s&&e.startsWith(a)?e.substring(a.length):e})).join("\n");if(n!==l){var d=h[o];Q({value:l,selectionStart:(null==d?void 0:d.startsWith(a))?r-a.length:r,selectionEnd:i-(n.length-l.length)})}}else if(r!==i){var h,f=(h=$(n,r)).length-1,p=$(n,i).length-1;d=h[f];Q({value:n.split("\n").map((function(e,t){return t>=f&&t<=p?a+e:e})).join("\n"),selectionStart:d&&/\S/.test(d)?r+a.length:r,selectionEnd:i+a.length*(p-f+1)})}else{var g=r+a.length;Q({value:n.substring(0,r)+a+n.substring(i),selectionStart:g,selectionEnd:g})}else if("Backspace"===e.key){var y=r!==i;if(n.substring(0,r).endsWith(a)&&!y){e.preventDefault();g=r-a.length;Q({value:n.substring(0,r-a.length)+n.substring(i),selectionStart:g,selectionEnd:g})}}else if("Enter"===e.key){if(r===i){var b=$(n,r).pop(),x=null==b?void 0:b.match(/^\s+/);if(null==x?void 0:x[0]){e.preventDefault();var k="\n"+x[0];g=r+k.length;Q({value:n.substring(0,r)+k+n.substring(i),selectionStart:g,selectionEnd:g})}}}else if(57===e.keyCode||219===e.keyCode||222===e.keyCode||192===e.keyCode){var w=void 0;57===e.keyCode&&e.shiftKey?w=["(",")"]:219===e.keyCode?w=e.shiftKey?["{","}"]:["[","]"]:222===e.keyCode?w=e.shiftKey?['"','"']:["'","'"]:192!==e.keyCode||e.shiftKey||(w=["`","`"]),r!==i&&w&&(e.preventDefault(),Q({value:n.substring(0,r)+w[0]+n.substring(r,i)+w[1]+n.substring(i),selectionStart:r,selectionEnd:i+2}))}else!(u?e.metaKey&&90===e.keyCode:e.ctrlKey&&90===e.keyCode)||e.shiftKey||e.altKey?(u?e.metaKey&&90===e.keyCode&&e.shiftKey:c?e.ctrlKey&&89===e.keyCode:e.ctrlKey&&90===e.keyCode&&e.shiftKey)&&!e.altKey?(e.preventDefault(),function(){var e=B.current,t=e.stack,n=e.offset,r=t[n+1];r&&(Y(r),B.current.offset=Math.min(n+1,t.length-1))}()):77!==e.keyCode||!e.ctrlKey||u&&!e.shiftKey||(e.preventDefault(),A((function(e){return!e}))):(e.preventDefault(),function(){var e=B.current,t=e.stack,n=e.offset,r=t[n-1];r&&(Y(r),B.current.offset=Math.max(n-1,0))}())}},onClick:w,onKeyUp:S,onFocus:j,onBlur:k,disabled:i,form:a,maxLength:y,minLength:b,name:x,placeholder:O,readOnly:P,required:K,autoFocus:n,autoCapitalize:"off",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"data-gramm":!1}),l.createElement("style",{dangerouslySetInnerHTML:{__html:h}}))})),p={container:{position:"relative",textAlign:"left",boxSizing:"border-box",padding:0,overflow:"hidden"},textarea:{position:"absolute",top:0,left:0,height:"100%",width:"100%",resize:"none",color:"inherit",overflow:"hidden",MozOsxFontSmoothing:"grayscale",WebkitFontSmoothing:"antialiased",WebkitTextFillColor:"transparent"},highlight:{position:"relative",pointerEvents:"none"},editor:{margin:0,border:0,background:"none",boxSizing:"inherit",display:"inherit",fontFamily:"inherit",fontSize:"inherit",fontStyle:"inherit",fontVariantLigatures:"inherit",fontWeight:"inherit",letterSpacing:"inherit",lineHeight:"inherit",tabSize:"inherit",textIndent:"inherit",textRendering:"inherit",textTransform:"inherit",whiteSpace:"pre-wrap",wordBreak:"keep-all",overflowWrap:"break-word"}};t.default=f},8453:(e,t,n)=>{n.d(t,{R:()=>o,x:()=>s});var r=n(6540);const i={},a=r.createContext(i);function o(e){const t=r.useContext(a);return r.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function s(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),r.createElement(a.Provider,{value:t},e.children)}}}]);